# DTO-DSS Ontology Rules Configuration
#      
#  /   

version: "1.0"
description: "Drug Toxicity Ontology Rules for ML+Ontology Combined Prediction"

#   
categories:
  structural:
    name: " "
    description: "   "
  adme:
    name: "ADME "
    description: ", , ,  "
  toxicity:
    name: " "
    description: "   "
  lipinski:
    name: "Lipinski "
    description: "  "

#   
rules:
  #   
  - id: HIGH_LOGP
    category: structural
    name: " "
    condition:
      type: threshold
      descriptor: logp
      operator: ">"
      value: 3.0
    weight: 0.30
    toxicity_direction: positive  #   
    interpretation: "LogP > 3.0:     ,     "
    reference: "Lipinski Rule of Five"

  - id: HIGH_MW
    category: structural
    name: " "
    condition:
      type: threshold
      descriptor: molecular_weight
      operator: ">"
      value: 500
    weight: 0.15
    toxicity_direction: positive
    interpretation: "MW > 500:        "
    reference: "Lipinski Rule of Five"

  - id: AROMATIC_RINGS
    category: structural
    name: "  "
    condition:
      type: threshold
      descriptor: num_aromatic_rings
      operator: ">="
      value: 3
    weight: 0.20
    toxicity_direction: positive
    interpretation: "  â‰¥ 3:       "
    reference: "Structural Alerts for Toxicity"

  - id: EXCESSIVE_ROTATABLE
    category: structural
    name: "   "
    condition:
      type: threshold
      descriptor: num_rotatable_bonds
      operator: ">"
      value: 10
    weight: 0.10
    toxicity_direction: positive
    interpretation: "   > 10:  ,   "
    reference: "Veber Rules"

  # ADME  
  - id: LOW_TPSA
    category: adme
    name: "  "
    condition:
      type: threshold
      descriptor: tpsa
      operator: "<"
      value: 40
    weight: 0.12
    toxicity_direction: positive
    interpretation: "TPSA < 40:  ,   "
    reference: "BBB Penetration Rules"

  - id: HIGH_TPSA
    category: adme
    name: "  "
    condition:
      type: threshold
      descriptor: tpsa
      operator: ">"
      value: 140
    weight: 0.08
    toxicity_direction: negative
    interpretation: "TPSA > 140:   ,   "
    reference: "Polar Surface Area Rules"

  - id: EXCESSIVE_HBD
    category: adme
    name: "  "
    condition:
      type: threshold
      descriptor: num_h_donors
      operator: ">"
      value: 5
    weight: 0.08
    toxicity_direction: positive
    interpretation: "HBD > 5:   ,  "
    reference: "Lipinski Rule of Five"

  - id: EXCESSIVE_HBA
    category: adme
    name: "  "
    condition:
      type: threshold
      descriptor: num_h_acceptors
      operator: ">"
      value: 10
    weight: 0.08
    toxicity_direction: positive
    interpretation: "HBA > 10:  ,   "
    reference: "Lipinski Rule of Five"

  # Lipinski Rule of Five 
  - id: LIPINSKI_VIOLATION
    category: lipinski
    name: "Lipinski "
    condition:
      type: composite
      logic: "count_violations >= 2"
      sub_conditions:
        - descriptor: molecular_weight
          operator: ">"
          value: 500
        - descriptor: logp
          operator: ">"
          value: 5
        - descriptor: num_h_donors
          operator: ">"
          value: 5
        - descriptor: num_h_acceptors
          operator: ">"
          value: 10
    weight: 0.25
    toxicity_direction: positive
    interpretation: "2  Lipinski :   ,   "
    reference: "Lipinski CA et al., Adv Drug Deliv Rev 1997"

  #   
  - id: HEAVY_ATOMS_HIGH
    category: toxicity
    name: "  "
    condition:
      type: threshold
      descriptor: num_heavy_atoms
      operator: ">"
      value: 35
    weight: 0.10
    toxicity_direction: positive
    interpretation: "  > 35:  ,   "
    reference: "Molecular Complexity"

  - id: LOW_FSP3
    category: toxicity
    name: " sp3  "
    condition:
      type: threshold
      descriptor: fraction_csp3
      operator: "<"
      value: 0.25
    weight: 0.12
    toxicity_direction: positive
    interpretation: "Fsp3 < 0.25:  ,   "
    reference: "Lovering F, MedChemComm 2013"

#   
weight_normalization: true
total_weight: 1.0

#    (WCAG AA )
colors:
  positive: "#FF6B6B"  #  -  
  negative: "#4ECDC4"  #  -    
  neutral: "#95A5A6"   #  - 
  highlight: "#2ECC71" #  - 

#   
confidence_levels:
  high:
    range: [0.67, 1.0]
    label: ""
    color: "#27AE60"
    action: "  "
  medium:
    range: [0.34, 0.66]
    label: ""
    color: "#F39C12"
    action: "  "
  low:
    range: [0.0, 0.33]
    label: ""
    color: "#E74C3C"
    action: "  "
